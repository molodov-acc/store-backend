Пояснение шаг за шагом

- Фронт делает HTTP-запрос с query-параметрами.
Например: /products?gender=male&size=M

- Router (products.routes.js) — проверяет путь и метод, вызывает контроллер.
Он ничего не знает про данные или фильтры.

- Controller (products.controller.js) — читает req.query и вызывает сервис, потом формирует JSON-ответ.
Контроллер не знает, где хранятся данные.

- Service (products.service.js) — содержит бизнес-логику: фильтрует товары по gender и size.
Сервис не знает про HTTP и не обращается к файлам напрямую.

- Storage (products.storage.js) — отвечает за источник данных.
Здесь вызывается fileDb.read('products.json').
Storage не делает фильтровку и не думает про логику.

- fileDb.js — низкоуровневый слой работы с файловой системой: чтение/запись JSON.
Возвращает массив объектов в память.

Данные поднимаются обратно: fileDb → storage → service → controller → router → фронт.